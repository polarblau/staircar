<!doctype html>
<html>
	<head>
		<title>Downloadomatic Example</title>

		<script src="demo-dependencies/jquery.min.js"></script>

		<link href="demo-dependencies/bootstrap.min.css" rel="stylesheet">
		<script src="demo-dependencies/bootstrap.min.js"></script>

		<script type="text/javascript" src="src/swfobject.js"></script>
		<script type="text/javascript" src="src/downloadomatic.js"></script>

		<style>
			body {
				width: 60%;
				margin: 50px auto;
			}
		</style>

		<script>

			$(document).on("click", "#download-btn", function () {

				$("#downloadomatic-element").downloadomatic({
					data: $("#data").val(),
					filename: $("#filename").val(),
					mimeType: $("#mime").val(),
					afterInit: function() {
						$("#downloadomatic-modal").modal();
					}
				});
			});

		</script>


	</head>

	<body>

		<h1>Downloadomatic Test</h1>

		<p>
			If your browser supports downloading data URIs, the download will
			be pure JavaScript. Otherwise, it'll fall back to Flash.
		</p>

		<p>
			Note that downloads using a data URI uses a filename
			chosen by the browser, so filename field will only
			be used if the download uses Flash.
		</p>

		<p>
			<label for="filename">Filename (including extension)</label><br/>
			<input type="text" id="filename" class="form-control" value="download.csv" />
		</p>

		<p>
			<label for="mime">MIME Type</label><br/>
			<input type="text" id="mime" class="form-control" value="text/csv" />
		</p>

		<p>
			<label for="data">File Contents</label><br/>
			<textarea id="data" class="form-control">Heading 1,Heading 2,Heading 3
Data 1,Data 2,Data 3
Data 4,Data 5,Data 6</textarea>
		</p>

		<button id="download-btn" type="button" class="btn btn-primary">Download</button>

		<div id="downloadomatic-modal" class="modal fade">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header">
		        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
		        <h4 class="modal-title">Your Download Is Ready</h4>
		      </div>
		      <div class="modal-body">
				<p id="downloadomatic-element" style="text-align: center;">
				</p>
				<p style="text-align: center; font-size: 75%;">
					If you do not see a download button, upgrade to <a href="http://www.google.com/chrome" target="_blank">Chrome</a> or <a href="http://www.getfirefox.com" target="_blank">Firefox</a>, or <a href="http://get.adobe.com/flashplayer" target="_blank">download Flash Player</a>. 
				</p>
		      </div>

		    </div><!-- /.modal-content -->
		  </div><!-- /.modal-dialog -->
		</div><!-- /.modal -->

	
	</body>
</html>
